"use strict";(self.webpackChunkPED4U=self.webpackChunkPED4U||[]).push([[450],{8450:(Me,M,d)=>{d.r(M),d.d(M,{TurmasModule:()=>Te});var _=d(6814),u=d(2999),h=d(6361),v=d(4844),E=d(74),c=d(95),U=d(4532),w=d(1979),J=d(7680),x=d(2160),F=d(6263),b=d(2425),p=d(708),e=d(9468),N=d(5619),k=d(9397),Q=(d(5592),d(9947)),y=d(9862);let C=(()=>{class n{constructor(t){this.httpClient=t,this.url=Q.N.url,this.list=new N.X([])}getList(){return console.log("pegando lista"),this.httpClient.get(`${this.url}/Turma`).pipe((0,k.b)({next:t=>{this.list.next(t)}}))}get(t){return this.httpClient.get(`${this.url}/Turma/${t}`)}getPerfilByTurma(t){return this.httpClient.get(`${this.url}/Turma_Perfil_Rel/ListByTurmaId${t}`)}post(t){return console.log("Entramos no post turma model:"),console.log(t),this.httpClient.post(`${this.url}/Turma`,t)}delete(t){return this.httpClient.delete(`${this.url}/Turma/${t}`)}static#e=this.\u0275fac=function(i){return new(i||n)(e.LFG(y.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var I=d(4527),T=d(5219);const D=["dt"],L=function(){return["cadastrar"]};function j(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div")(2,"a",9),e._uU(3,"Cadastrar"),e.qZA()(),e.TgZ(4,"div",10)(5,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),l=e.MAs(4);return e.KtG(o.clear(l))}),e.TgZ(6,"span",12),e._uU(7,"Limpar filtros"),e.qZA(),e._UZ(8,"i",13),e.qZA(),e.TgZ(9,"span",14),e._UZ(10,"i",15),e.TgZ(11,"input",16),e.NdJ("input",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.applyFilterGlobal(o,"contains"))}),e.qZA()()()()}2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(1,L)))}function z(n,a){1&n&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th",17),e._uU(3," Dia da Semana: "),e._UZ(4,"p-columnFilter",18)(5,"p-sortIcon",19),e.qZA(),e.TgZ(6,"th",20),e._uU(7," Hor\xe1rio: "),e._UZ(8,"p-columnFilter",21)(9,"p-sortIcon",22),e.qZA(),e.TgZ(10,"th",23),e._uU(11," Capacidade de Alunos: "),e._UZ(12,"p-columnFilter",24)(13,"p-sortIcon",25),e.qZA(),e.TgZ(14,"th",26),e._uU(15," Educador: "),e._UZ(16,"p-columnFilter",27)(17,"p-sortIcon",28),e.qZA(),e.TgZ(18,"th",29),e._uU(19," Perfil: "),e._UZ(20,"p-columnFilter",30)(21,"p-sortIcon",31),e.qZA(),e._UZ(22,"th")(23,"th")(24,"th"),e.qZA())}const H=function(n){return["editar",n]},R=function(n){return["excluir",n]};function $(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",32),e._uU(15,"Editar"),e.qZA(),e.TgZ(16,"a",33),e._uU(17,"Excluir"),e.qZA()(),e._UZ(18,"td")(19,"td"),e.qZA()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.diaSemanaTxt),e.xp6(2),e.Oqu(t.horario),e.xp6(2),e.Oqu(t.vagasRestantes),e.xp6(2),e.Oqu(t.nomeEducador),e.xp6(2),e.Oqu(t.perfis),e.xp6(2),e.Q6J("routerLink",e.VKq(8,H,t.id)),e.xp6(2),e.Q6J("routerLink",e.VKq(10,R,t.id))}}const G=function(){return{"min-width":"50rem"}},B=function(){return["id","diaSemanaTxt","horario","qtdeMaxAlunos","vagasRestantes","nomeEducador","perfis"]};let K=(()=>{class n{constructor(t,i){this.turmasService=t,this.loadingHelper=i,this.list=[],this.diaSemanaList=[{id:1,nome:"Segunda-Feira"},{id:2,nome:"Ter\xe7a-Feira"},{id:3,nome:"Quarta-Feira"},{id:4,nome:"Quinta-Feira"},{id:5,nome:"Sexta-Feira"},{id:6,nome:"S\xe1bado"}],this.loading=!1,this.loadingHelper.loading.subscribe(o=>this.loading=o),this.turmasService.list.subscribe(o=>{this.list=Object.assign([],o),console.log("lista de turmas ",o),this.list.forEach(l=>{l.diaSemanaTxt=this.getDiaSemana(l.diaSemana)})}),this.loadingHelper.loading.next(!0),(0,p.n)(t.getList()),this.loadingHelper.loading.next(!1)}clear(t){t.clear()}applyFilterGlobal(t,i){this.dt.filterGlobal(t.target.value,i)}getDiaSemana(t){let i=this.diaSemanaList.find(o=>o.id==t);return null==i?"":i.nome}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(C),e.Y36(I.b))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["turma"]],viewQuery:function(i,o){if(1&i&&e.Gf(D,5),2&i){let l;e.iGM(l=e.CRH())&&(o.dt=l.first)}},decls:9,vars:9,consts:[[1,"educadores"],["header","Turmas"],[1,"card","table-responsive"],["sortField","","dataKey","id","styleClass","p-datatable-striped","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} p\xe1ginas",1,"table",3,"value","tableStyle","paginator","rows","showCurrentPageReport","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex"],[1,"btn-primary",3,"routerLink"],[1,"p-2"],[1,"btn-clear",3,"click"],[1,"me-2"],[1,"pi","pi-filter-slash"],[1,"p-2","p-input-icon-right"],[1,"pi","pi-search","me-2","ml-3"],["pInputText","","type","text","placeholder","Digite a Palavra-Chave",1,"generalInput",3,"input"],["pSortableColumn","diaSemana",1,"diaSemana"],["type","text","field","diaSemana","display","menu"],["field","diaSemana"],["pSortableColumn","horario",1,"horario"],["type","text","field","horario","display","menu"],["field","horario"],["pSortableColumn","vagasRestantes",1,"vagasRestantes"],["type","text","field","vagasRestantes","display","menu"],["field","vagasRestantes"],["pSortableColumn","nomeEducador",1,"nomeEducador"],["type","text","field","nomeEducador","display","menu"],["field","nomeEducador"],["pSortableColumn","perfis",1,"perfis"],["type","text","field","perfis","display","menu"],["field","perfis"],[1,"btn","btn-edit","me-2",3,"routerLink"],[1,"btn","btn-delete",3,"routerLink"]],template:function(i,o){1&i&&(e.TgZ(0,"p-tabView",0)(1,"p-tabPanel",1)(2,"div",2)(3,"p-table",3,4),e.YNc(5,j,12,2,"ng-template",5),e.YNc(6,z,25,0,"ng-template",6),e.YNc(7,$,20,12,"ng-template",7),e.qZA()()()(),e._UZ(8,"router-outlet")),2&i&&(e.xp6(3),e.Q6J("value",o.list)("tableStyle",e.DdM(7,G))("paginator",!0)("rows",5)("showCurrentPageReport",!0)("filterDelay",0)("globalFilterFields",e.DdM(8,B)))},dependencies:[u.lC,u.rH,h.iA,T.jx,h.lQ,h.fz,h.xl,v.xf,v.x4],styles:["[_ngcontent-%COMP%]:root{--primary: #ff6315;--primary-highlight: #8c47dc;--secondary: #fff;--secondary-highlight: #F94184 ;--grey: #181818;--grey-highlight: #5a5c60}.p-tabview[_ngcontent-%COMP%]   .p-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .p-tabview-nav-link[_ngcontent-%COMP%]{border:solid #dee2e6;border-width:0 0 2px 0;border-color:transparent transparent #dee2e6 transparent;background:#ffffff;color:#181818;padding:1.25rem;font-weight:700;border-top-right-radius:6px;border-top-left-radius:6px;transition:box-shadow .2s;margin:0 0 -2px;display:flex;flex-direction:row}.p-tabview-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:15pt;margin-left:20px;background:#ffffff;border-color:#343a40;color:#181818}.p-datatable[_ngcontent-%COMP%]   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{text-align:center;padding:20px 4px;border:1px solid #dee2e6;border-width:0 0 1px 0;font-weight:700;color:#343a40;background:#f8f9fa;transition:box-shadow .2s;font-size:11pt}.flex[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between}.p-button.p-button-outlined[_ngcontent-%COMP%]{background-color:transparent;color:#181818;border:1px solid;text-decoration:none;font-weight:700}td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.p-tabview[_ngcontent-%COMP%]   .p-tabview-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;padding:.75rem 1.25rem;margin-bottom:0}.p-checkbox[_ngcontent-%COMP%]   .p-checkbox-box[_ngcontent-%COMP%]{border:2px solid #ced4da;background:#ffffff;width:22px;height:22px;color:#495057;border-radius:6px;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s}.flex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.less-rounded[_ngcontent-%COMP%]   span.p-tag.p-tag-rounded[_ngcontent-%COMP%]{border-radius:25px}"]})}return n})();class A{constructor(){this.id=0,this.horario="",this.diaSemana="",this.qtdeMaxAlunos="",this.educador_Id="",this.unidade_Id="",this.perfis=[]}}var O=d(3859),q=d(1551),Z=d(4055);function V(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.selectedDiaSemana.nome)}}function W(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.nome)}}function X(n,a){1&n&&(e.TgZ(0,"p",14),e._uU(1," Esse campo \xe9 obrigat\xf3rio. "),e.qZA())}function ee(n,a){1&n&&(e.TgZ(0,"p",14),e._uU(1," N\xe3o insira espa\xe7os em branco antes ou no final do campo "),e.qZA())}function te(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,X,2,0,"p",35),e.YNc(2,ee,2,0,"p",35),e.TgZ(3,"p",14),e._uU(4),e.qZA()()),2&n){const t=e.oxw(),i=e.MAs(34);e.xp6(1),e.Q6J("ngIf",i.errors.required),e.xp6(1),e.Q6J("ngIf",i.errors.pattern),e.xp6(2),e.Oqu(t.erro)}}function ne(n,a){1&n&&(e.TgZ(0,"p",14),e._uU(1," Esse campo \xe9 obrigat\xf3rio "),e.qZA())}function oe(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ne,2,0,"p",35),e.qZA()),2&n){e.oxw();const t=e.MAs(42);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function ie(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.selectedEducadores.name)}}function ae(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.name)}}let re=(()=>{class n{constructor(t,i,o,l,r,s,f){this.activatedRoute=t,this.router=i,this.turmasService=o,this.httpClient=l,this.toastr=r,this.perfilService=s,this.educadoresService=f,this.open=!0,this.turma=new A,this.id=0,this.erro="",this.loading=!1,this.perfis=[],this.diaSemana=[{id:1,nome:"Segunda-Feira"},{id:2,nome:"Ter\xe7a-Feira"},{id:3,nome:"Quarta-Feira"},{id:4,nome:"Quinta-Feira"},{id:5,nome:"Sexta-Feira"},{id:6,nome:"S\xe1bado"}],this.educadores=[],this.selectedPerfis=[],this.selectedDiaSemana={id:-1,nome:""},this.selectedEducadores={id:-1,name:"",email:""},this.selectHorario="",this.perfilService.list.subscribe(m=>{this.perfis=Object.assign([],m)}),(0,p.n)(s.getList()),this.educadoresService.list.subscribe(m=>{this.educadores=Object.assign([],m)}),(0,p.n)(f.getList()).then(m=>{console.log(this.educadores)})}close(){this.open=!1,this.router.navigate(["turmas"])}save(){this.loading=!0,this.turma.horario=this.formatTime(this.selectHorario),-1!=this.selectedDiaSemana.id?(this.turma.diaSemana=this.selectedDiaSemana.id,-1!=this.selectedEducadores.id?(this.turma.educador_Id=this.selectedEducadores.id,this.turma.perfis=this.selectedPerfis,this.turma.qtdeMaxAlunos=parseInt(this.turma.qtdeMaxAlunos.toString()),this.turma.unidade_Id=0,console.log(this.turma),(0,p.n)(this.turmasService.post(this.turma)).then(t=>{console.log(t),this.close(),this.toastr.success("Opera\xe7\xe3o conclu\xedda com sucesso"),(0,p.n)(this.turmasService.getList())}).catch(t=>{this.erro=t,console.error("console catch"+t)}).finally(()=>{this.loading=!1})):this.erro="Selecione um Educador v\xe1lido"):this.erro="Selecione um dia da Semana v\xe1lido"}formatTime(t){return 5==t.length?t+":00.000000":8==t.length?t+".000000":t}concatenatePerfil(t){let i="";for(let o=0;o<t.length;o++)i+=t[o],o!=t.length-1&&(i+=", ");return i}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(C),e.Y36(y.eN),e.Y36(b._W),e.Y36(O.F),e.Y36(q.z))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["create-alunos"]],decls:62,vars:16,consts:[[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["form","ngForm"],[1,"column"],[1,"form-container","mb-4"],[1,"campo-container"],[1,"row"],[1,"form-group","col-md-6","col-12"],["for","perfis"],[1,"text-danger"],["inputId","float-label","name","perfis","optionLabel","nome","optionValue","id","placeholder","Selecione o perfil da turma",1,"dropdown",3,"filter","options","ngModel","ngModelChange"],["for","diaSemana"],["optionLabel","nome","name","diaSemana","placeholder","Selecione o dia da semana",1,"dropdown",3,"options","ngModel","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"form-group","col-md-4","col-12"],["for","horarioTurma"],["type","time","id","horario","name","horario","pattern","\\S(.*\\S)?","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngModelChange","change"],["horario","ngModel"],[4,"ngIf"],["for","qtdeMaxAlunos"],["type","number","mask","00","pattern","[0-9]","id","qtdeMaxAlunos","name","qtdeMaxAlunos","placeholder"," ex: 12","required","",1,"form-control",3,"ngModel","ngModelChange"],["qtdeMaxAlunos","ngModel"],["for","nomeEducador"],["optionLabel","name","name","name","placeholder","Selecione o educador",1,"dropdown",3,"options","ngModel","ngModelChange"],[1,"modal-footer"],[1,"me-auto","bd-highlight"],["type","reset",1,"btn-clear"],["type","button",1,"btn-delete",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn-edit",3,"disabled","click"],["class","text-danger",4,"ngIf"]],template:function(i,o){if(1&i){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Cadastrar Turma"),e.qZA(),e.TgZ(6,"a",5),e.NdJ("click",function(){return o.close()}),e.qZA()(),e.TgZ(7,"div",6)(8,"form",null,7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Perfil: "),e.TgZ(17,"span",14),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"p-multiSelect",15),e.NdJ("ngModelChange",function(s){return o.selectedPerfis=s}),e.qZA()(),e.TgZ(20,"div",12)(21,"label",16),e._uU(22,"Dia da Semana: "),e.TgZ(23,"span",14),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"p-dropdown",17),e.NdJ("ngModelChange",function(s){return o.selectedDiaSemana=s}),e.YNc(26,V,3,1,"ng-template",18),e.YNc(27,W,3,1,"ng-template",19),e.qZA()(),e.TgZ(28,"div",20)(29,"label",21),e._uU(30," Hor\xe1rio: "),e.TgZ(31,"span",14),e._uU(32,"*"),e.qZA()(),e.TgZ(33,"input",22,23),e.NdJ("ngModelChange",function(s){return o.selectHorario=s})("change",function(){e.CHM(l);const s=e.MAs(34);return e.KtG(o.selectHorario=s.value)}),e.qZA(),e.YNc(35,te,5,3,"div",24),e.qZA(),e.TgZ(36,"div",20)(37,"label",25),e._uU(38,"Capacidade de Alunos: "),e.TgZ(39,"span",14),e._uU(40,"*"),e.qZA()(),e.TgZ(41,"input",26,27),e.NdJ("ngModelChange",function(s){return o.turma.qtdeMaxAlunos=s}),e.qZA(),e.YNc(43,oe,2,1,"div",24),e.qZA(),e.TgZ(44,"div",20)(45,"label",28),e._uU(46,"Educador: "),e.TgZ(47,"span",14),e._uU(48,"*"),e.qZA()(),e.TgZ(49,"p-dropdown",29),e.NdJ("ngModelChange",function(s){return o.selectedEducadores=s}),e.YNc(50,ie,3,1,"ng-template",18),e.YNc(51,ae,3,1,"ng-template",19),e.qZA()()(),e.TgZ(52,"div",30)(53,"div",31)(54,"button",32),e._uU(55,"Limpar Campos"),e.qZA()(),e.TgZ(56,"button",33),e.NdJ("click",function(){return o.close()}),e._uU(57," Cancelar "),e.qZA(),e.TgZ(58,"button",34),e.NdJ("click",function(){return o.save()}),e._uU(59," Salvar "),e.qZA(),e.TgZ(60,"p",14),e._uU(61),e.qZA()()()()()()()()()()}if(2&i){const l=e.MAs(34),r=e.MAs(42);e.ekj("modal--show",o.open),e.xp6(19),e.Q6J("filter",!1)("options",o.perfis)("ngModel",o.selectedPerfis),e.xp6(6),e.Q6J("options",o.diaSemana)("ngModel",o.selectedDiaSemana),e.xp6(8),e.Q6J("ngModel",o.selectHorario),e.xp6(2),e.Q6J("ngIf",l.touched&&l.errors),e.xp6(6),e.Q6J("ngModel",o.turma.qtdeMaxAlunos),e.xp6(2),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(6),e.Q6J("options",o.educadores)("ngModel",o.selectedEducadores),e.xp6(7),e.Q6J("disabled",o.loading),e.xp6(2),e.Q6J("disabled",o.loading),e.xp6(3),e.Oqu(o.erro)}},dependencies:[_.O5,T.jx,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.wO,c.nD,c.c5,c.On,c.F,x.Lt,Z.NU],styles:["[_ngcontent-%COMP%]:root{--primary: #ff6315;--primary-highlight: #8c47dc;--secondary: #fff;--secondary-highlight: #F94184 ;--grey: #181818;--grey-highlight: #5a5c60}.container-header[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;padding:8px 30px;font-weight:400;letter-spacing:1.5px;text-transform:uppercase;margin-top:0;margin-bottom:0;font-size:12pt}[_nghost-%COMP%]     .p-dropdown{width:100%}.container-header[_ngcontent-%COMP%]{background-color:var(--grey-highlight);color:#fff;padding:8px 30px;font-weight:400;letter-spacing:1.5px;text-transform:uppercase;margin-top:0;margin-bottom:0;font-size:12pt;font-family:sans-serif}.campo-container[_ngcontent-%COMP%]{padding:10px 30px}.modal-dialog[_ngcontent-%COMP%]{max-width:1000px;width:95%;max-height:95vh;padding:0;margin:auto}h5[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14pt;color:#ff6315;margin-top:10px}.modal-body[_ngcontent-%COMP%]{background-color:#fff;border-radius:var(--bs-modal-border-radius)}.form-control[_ngcontent-%COMP%]{padding:.375rem .75rem}.d-flex[_ngcontent-%COMP%]{display:flex!important;justify-content:right;margin-bottom:8px}.me-2[_ngcontent-%COMP%]{margin-left:8px!important;margin-top:7px;width:17px;height:16px}[_nghost-%COMP%]     .p-multiselect-trigger{color:var(--primary)}[_nghost-%COMP%]     .p-multiselect-label{color:var(--grey-highlight)}[_nghost-%COMP%]     .p-multiselect-items{color:var(--primary)}[_nghost-%COMP%]     .p-multiselect-filter-container{display:none}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box.p-highlight{background:var(--primary);border:#ff6315}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-items .p-multiselect-item.p-highlight.p-focus{background:none}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-items .p-multiselect-item.p-highlight{background:none}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-multiselect-filter-icon{color:var(--primary);align-items:center}[_nghost-%COMP%]     .p-multiselect-filter-icon{margin-bottom:5px}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-header{display:none}[_nghost-%COMP%]     .p-multiselect-header{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]     .p-multiselect span.ng-star-inserted{margin-left:5px;color:var(--grey-highlight)}[_nghost-%COMP%]     .p-multiselect .p-inputtext{font-family:var(--font-family);font-feature-settings:var(--font-feature-settings, normal);font-size:1rem;color:#4b5563;background:#ffffff;padding:.75rem;border:1px solid #d1d5db;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s;appearance:none;border-radius:6px}"]})}return n})();var S=d(5861);function se(n,a){if(1&n&&(e.TgZ(0,"div",37)(1,"div",37),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.hij("",t.nome,",")}}function le(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Selecione os Perfis"),e.qZA())}function de(n,a){if(1&n&&(e.YNc(0,se,3,1,"div",36),e.YNc(1,le,2,0,"div",25)),2&n){const t=a.$implicit;e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",!t||0===t.length)}}function ce(n,a){1&n&&e._uU(0),2&n&&e.hij(" ",a.$implicit.nome," ")}function pe(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(null==t.selectedDiaSemana?null:t.selectedDiaSemana.nome)}}function ue(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.nome)}}function me(n,a){1&n&&(e.TgZ(0,"p",14),e._uU(1," Esse campo \xe9 obrigat\xf3rio. "),e.qZA())}function ge(n,a){1&n&&(e.TgZ(0,"p",14),e._uU(1," N\xe3o insira espa\xe7os em branco antes ou no final do campo "),e.qZA())}function he(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,me,2,0,"p",38),e.YNc(2,ge,2,0,"p",38),e.TgZ(3,"p",14),e._uU(4),e.qZA()()),2&n){const t=e.oxw(),i=e.MAs(36);e.xp6(1),e.Q6J("ngIf",i.errors.required),e.xp6(1),e.Q6J("ngIf",i.errors.pattern),e.xp6(2),e.Oqu(t.erro)}}function fe(n,a){1&n&&(e.TgZ(0,"p",14),e._uU(1," Esse campo \xe9 obrigat\xf3rio "),e.qZA())}function _e(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,fe,2,0,"p",38),e.qZA()),2&n){e.oxw();const t=e.MAs(44);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function be(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(null==t.selectedEducadores?null:t.selectedEducadores.name)}}function Ce(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.name)}}const ve=[{path:"",component:K,children:[{path:"cadastrar",component:re},{path:"editar/:id",component:(()=>{class n{constructor(t,i,o,l,r,s){this.activatedRoute=t,this.router=i,this.turmasService=o,this.toastr=l,this.perfilService=r,this.educadoresService=s,this.open=!0,this.turma=new A,this.id=0,this.erro="",this.loading=!1,this.perfis=[],this.diaSemana=[{id:1,nome:"Segunda-Feira"},{id:2,nome:"Ter\xe7a-Feira"},{id:3,nome:"Quarta-Feira"},{id:4,nome:"Quinta-Feira"},{id:5,nome:"Sexta-Feira"},{id:6,nome:"S\xe1bado"}],this.educadores=[],this.selectedPerfis=[],this.selectedDiaSemana={id:-1,nome:""},this.selectedEducadores={id:-1,name:"",email:""},this.selectHorario="",this.activatedRoute.params.subscribe(f=>{f.id?(this.turma.id=f.id,this.perfilService.list.subscribe(m=>{this.perfis=Object.assign([],m)}),this.educadoresService.list.subscribe(m=>{this.educadores=Object.assign([],m)}),(0,p.n)(r.getList()).then(m=>{(0,p.n)(s.getList()).then(Ee=>{(0,p.n)(this.turmasService.get(this.turma.id)).then(P=>{this.open=!0,this.turma=P,this.selectedDiaSemana=this.diaSemana.find(g=>g.id==this.turma.diaSemana),this.selectedEducadores=this.educadores.find(g=>g.id==this.turma.educador_Id),this.selectHorario=this.turma.horario,this.perfis.forEach(g=>{null!=this.turma.perfis&&null!=this.turma.perfis.find(Ze=>Ze==g.id)&&this.selectedPerfis.push(g)}),console.log(this.turma),this.loading=!1}).catch(P=>{this.close(),this.toastr.error("N\xe3o foi poss\xedvel acessar essa p\xe1gina")})})})):(this.close(),this.toastr.error("N\xe3o foi poss\xedvel acessar essa p\xe1gina"))})}close(){this.open=!1,this.router.navigate(["turmas"])}save(){var t=this;return(0,S.Z)(function*(){if(t.loading=!0,t.turma.horario=t.formatTime(t.selectHorario),t.selectedDiaSemana)return t.turma.diaSemana=t.selectedDiaSemana.id,t.selectedEducadores?(t.turma.educador_Id=t.selectedEducadores?t.selectedEducadores.id:0,t.turma.qtdeMaxAlunos=parseInt(t.turma.qtdeMaxAlunos.toString()),t.turma.unidade_Id=0,t.turma.perfis=[],t.selectedPerfis.forEach(i=>{t.turma.perfis.push(i.id)}),console.log(t.turma),void(0,p.n)(t.turmasService.post(t.turma)).then(function(){var i=(0,S.Z)(function*(o){console.log(o),o.success?((0,p.n)(t.turmasService.getList()),t.close(),t.toastr.success("Opera\xe7\xe3o conclu\xedda com sucesso")):(t.erro=o.message,t.toastr.error(o.message)),t.loading=!1});return function(o){return i.apply(this,arguments)}}()).catch(i=>{t.erro=i,console.error("console catch"+i)}).finally(()=>{t.loading=!1})):(console.log(t.selectedEducadores),void(t.erro="Selecione um Educador v\xe1lido"));t.erro="Selecione um dia da Semana v\xe1lido"})()}formatTime(t){return 5==t.length?t+":00.000000":8==t.length?t+".000000":t}concatenatePerfil(t){let i="";for(let o=0;o<t.length;o++)i+=t[o],o!=t.length-1&&(i+=", ");return i}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(C),e.Y36(b._W),e.Y36(O.F),e.Y36(q.z))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["edit-alunos"]],decls:64,vars:16,consts:[[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["form","ngForm"],[1,"column"],[1,"form-container","mb-4"],[1,"campo-container"],[1,"row"],[1,"form-group","col-md-6","col-12"],["for","perfis"],[1,"text-danger"],["name","perfis","placeholder","Selecione o perfil da turma",1,"dropdown",3,"filter","options","ngModel","ngModelChange"],["pTemplate","selectedItems"],["pTemplate","item"],["for","diaSemana"],["optionLabel","nome","name","diaSemana","placeholder","Selecione o dia da semana",1,"dropdown",3,"options","ngModel","ngModelChange"],["pTemplate","selectedItem"],[1,"form-group","col-md-4","col-12"],["for","horarioTurma"],["type","time","id","horario","name","horario","pattern","\\S(.*\\S)?","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngModelChange","change"],["horario","ngModel"],[4,"ngIf"],["for","qtdeMaxAlunos"],["type","number","mask","00","pattern","[0-9]","id","qtdeMaxAlunos","name","qtdeMaxAlunos","placeholder"," ex: 12","required","",1,"form-control",3,"ngModel","ngModelChange"],["qtdeMaxAlunos","ngModel"],["for","nomeEducador"],["optionLabel","name","name","name","placeholder","Selecione o educador",1,"dropdown",3,"options","ngModel","ngModelChange"],[1,"modal-footer"],[1,"me-auto","bd-highlight"],["type","reset",1,"btn-clear"],["type","button",1,"btn-delete",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn-edit",3,"disabled","click"],["style","display: inline;",4,"ngFor","ngForOf"],[2,"display","inline"],["class","text-danger",4,"ngIf"]],template:function(i,o){if(1&i){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Editar Turma"),e.qZA(),e.TgZ(6,"a",5),e.NdJ("click",function(){return o.close()}),e.qZA()(),e.TgZ(7,"div",6)(8,"form",null,7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Perfil: "),e.TgZ(17,"span",14),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"p-multiSelect",15),e.NdJ("ngModelChange",function(s){return o.selectedPerfis=s}),e.YNc(20,de,2,2,"ng-template",16),e.YNc(21,ce,1,1,"ng-template",17),e.qZA()(),e.TgZ(22,"div",12)(23,"label",18),e._uU(24,"Dia da Semana: "),e.TgZ(25,"span",14),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"p-dropdown",19),e.NdJ("ngModelChange",function(s){return o.selectedDiaSemana=s}),e.YNc(28,pe,3,1,"ng-template",20),e.YNc(29,ue,3,1,"ng-template",17),e.qZA()(),e.TgZ(30,"div",21)(31,"label",22),e._uU(32," Hor\xe1rio: "),e.TgZ(33,"span",14),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"input",23,24),e.NdJ("ngModelChange",function(s){return o.selectHorario=s})("change",function(){e.CHM(l);const s=e.MAs(36);return e.KtG(o.selectHorario=s.value)}),e.qZA(),e.YNc(37,he,5,3,"div",25),e.qZA(),e.TgZ(38,"div",21)(39,"label",26),e._uU(40,"Capacidade de Alunos: "),e.TgZ(41,"span",14),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"input",27,28),e.NdJ("ngModelChange",function(s){return o.turma.qtdeMaxAlunos=s}),e.qZA(),e.YNc(45,_e,2,1,"div",25),e.qZA(),e.TgZ(46,"div",21)(47,"label",29),e._uU(48,"Educador: "),e.TgZ(49,"span",14),e._uU(50,"*"),e.qZA()(),e.TgZ(51,"p-dropdown",30),e.NdJ("ngModelChange",function(s){return o.selectedEducadores=s}),e.YNc(52,be,3,1,"ng-template",20),e.YNc(53,Ce,3,1,"ng-template",17),e.qZA()()(),e.TgZ(54,"div",31)(55,"div",32)(56,"button",33),e._uU(57,"Limpar Campos"),e.qZA()(),e.TgZ(58,"button",34),e.NdJ("click",function(){return o.close()}),e._uU(59," Cancelar "),e.qZA(),e.TgZ(60,"button",35),e.NdJ("click",function(){return o.save()}),e._uU(61," Salvar "),e.qZA(),e.TgZ(62,"p",14),e._uU(63),e.qZA()()()()()()()()()()}if(2&i){const l=e.MAs(36),r=e.MAs(44);e.ekj("modal--show",o.open),e.xp6(19),e.Q6J("filter",!1)("options",o.perfis)("ngModel",o.selectedPerfis),e.xp6(8),e.Q6J("options",o.diaSemana)("ngModel",o.selectedDiaSemana),e.xp6(8),e.Q6J("ngModel",o.selectHorario),e.xp6(2),e.Q6J("ngIf",l.touched&&l.errors),e.xp6(6),e.Q6J("ngModel",o.turma.qtdeMaxAlunos),e.xp6(2),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(6),e.Q6J("options",o.educadores)("ngModel",o.selectedEducadores),e.xp6(7),e.Q6J("disabled",o.loading),e.xp6(2),e.Q6J("disabled",o.loading),e.xp6(3),e.Oqu(o.erro)}},dependencies:[_.sg,_.O5,T.jx,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.wO,c.nD,c.c5,c.On,c.F,x.Lt,Z.NU],styles:["[_ngcontent-%COMP%]:root{--primary: #ff6315;--primary-highlight: #8c47dc;--secondary: #fff;--secondary-highlight: #F94184 ;--grey: #181818;--grey-highlight: #5a5c60}.container-header[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;padding:8px 30px;font-weight:400;letter-spacing:1.5px;text-transform:uppercase;margin-top:0;margin-bottom:0;font-size:12pt}[_nghost-%COMP%]     .p-dropdown{width:100%}.container-header[_ngcontent-%COMP%]{background-color:var(--grey-highlight);color:#fff;padding:8px 30px;font-weight:400;letter-spacing:1.5px;text-transform:uppercase;margin-top:0;margin-bottom:0;font-size:12pt;font-family:sans-serif}.campo-container[_ngcontent-%COMP%]{padding:10px 30px}.modal-dialog[_ngcontent-%COMP%]{max-width:1000px;width:95%;max-height:95vh;padding:0;margin:auto}h5[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14pt;color:#ff6315;margin-top:10px}.modal-body[_ngcontent-%COMP%]{background-color:#fff;border-radius:var(--bs-modal-border-radius)}.form-control[_ngcontent-%COMP%]{padding:.375rem .75rem}.d-flex[_ngcontent-%COMP%]{display:flex!important;justify-content:right;margin-bottom:8px}.me-2[_ngcontent-%COMP%]{margin-left:8px!important;margin-top:7px;width:17px;height:16px}[_nghost-%COMP%]     .p-multiselect-trigger{color:var(--primary)}[_nghost-%COMP%]     .p-multiselect-label{color:var(--grey-highlight)}[_nghost-%COMP%]     .p-multiselect-items{color:var(--primary)}[_nghost-%COMP%]     .p-multiselect-filter-container{display:none}[_nghost-%COMP%]     .p-checkbox .p-checkbox-box.p-highlight{background:var(--primary);border:#ff6315}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-items .p-multiselect-item.p-highlight.p-focus{background:none}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-items .p-multiselect-item.p-highlight{background:none}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-multiselect-filter-icon{color:var(--primary);align-items:center}[_nghost-%COMP%]     .p-multiselect-filter-icon{margin-bottom:5px}[_nghost-%COMP%]     .p-multiselect-panel .p-multiselect-header{display:none}[_nghost-%COMP%]     .p-multiselect-header{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]     .p-multiselect span.ng-star-inserted{margin-left:5px;color:var(--grey-highlight)}[_nghost-%COMP%]     .p-multiselect .p-inputtext{font-family:var(--font-family);font-feature-settings:var(--font-feature-settings, normal);font-size:1rem;color:#4b5563;background:#ffffff;padding:.75rem;border:1px solid #d1d5db;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s;appearance:none;border-radius:6px}"]})}return n})()},{path:"excluir/:id",component:(()=>{class n{constructor(t,i,o,l){this.activatedRoute=t,this.router=i,this.turmaService=o,this.toastr=l,this.open=!0,this.id=0,this.erro="",this.loading=!1,this.activatedRoute.params.subscribe(r=>{r.id?(this.id=r.id,this.open=!0):(this.close(),this.toastr.error("N\xe3o foi poss\xedvel acessar essa p\xe1gina")),console.log(r)})}close(){this.open=!1,this.router.navigate(["turmas"])}delete(){this.loading=!0,(0,p.n)(this.turmaService.delete(this.id)).then(t=>{t.success?((0,p.n)(this.turmaService.getList()),this.close(),this.toastr.success("Opera\xe7\xe3o conclu\xedda com sucesso")):(this.erro=t.message,this.toastr.error(t.message)),this.loading=!1}).catch(t=>{this.erro=t,console.error("console catch"+t)}).finally(()=>{this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(C),e.Y36(b._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["delete-alunos"]],decls:19,vars:6,consts:[[1,"modal","modal-delete"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn-cancel",3,"disabled","click"],["type","button",1,"btn-save",3,"disabled","click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Excluir Cadastro de Turma"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.close()}),e.qZA()(),e.TgZ(7,"div",6)(8,"p"),e._uU(9,"Tem certeza que deseja excluir esse cadastro?"),e._UZ(10,"br"),e._uU(11," Essa a\xe7\xe3o \xe9 irrevers\xedvel e voc\xea n\xe3o poder\xe1 recuperar esses dados!"),e.qZA(),e.TgZ(12,"p",7),e._uU(13),e.qZA()(),e.TgZ(14,"div",8)(15,"button",9),e.NdJ("click",function(){return o.close()}),e._uU(16,"Cancelar "),e.qZA(),e.TgZ(17,"button",10),e.NdJ("click",function(){return o.delete()}),e._uU(18,"Excluir "),e.qZA()()()()()),2&i&&(e.ekj("modal--show",o.open),e.xp6(6),e.Q6J("disabled",o.loading),e.xp6(7),e.Oqu(o.erro),e.xp6(2),e.Q6J("disabled",o.loading),e.xp6(2),e.Q6J("disabled",o.loading))},styles:["[_ngcontent-%COMP%]:root{--primary: #ff6315;--primary-highlight: #8c47dc;--secondary: #fff;--secondary-highlight: #F94184 ;--grey: #181818;--grey-highlight: #5a5c60}.container-header[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;padding:8px 30px;font-weight:400;letter-spacing:1.5px;text-transform:uppercase;margin-top:0;margin-bottom:0;font-size:12pt}h5[_ngcontent-%COMP%]{font-family:sans-serif;font-size:14pt;color:#ff6315;margin-top:10px}.btn-cancel[_ngcontent-%COMP%]{background-color:#5a5c60;color:#fff;padding:10px;border-radius:10px;margin:6px;cursor:pointer;border:none}.btn-save[_ngcontent-%COMP%]{background-color:#ff6315;border-color:#ff6315;color:#fff;padding:10px;border-radius:10px;margin:6px;cursor:pointer;border:#9b9c9d}"]})}return n})()}]}];let xe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(ve),u.Bz]})}return n})(),Te=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[xe,_.ez,u.Bz,h.U$,v.LU,E.ml,c.u5,w.IJ,U.d,x.kW,J.L,F.W,b.Rh,Z.q4]})}return n})()}}]);